
> source './jobs_output/self_scripting/script_input'


> set-alias printseq "print-sequence -secondary-structure"
{
  "alias":"printseq",
  "script":"print-sequence --secondary-structure"}

> load --file ./input/single/structure.cif
{
  "summary_of_atoms":{
    "number_total":1771,
    "volume":null}}

> load -file "./input/single/structure.pdb"
{
  "summary_of_atoms":{
    "number_total":1717,
    "volume":null}}

> load ./input/single/structure.pdb --include-heteroatoms
{
  "summary_of_atoms":{
    "number_total":1771,
    "volume":null}}

> print-sequence --secondary-structure
{
  "summary_of_atoms":{
    "number_total":1771,
    "volume":null},
  "chains":[
    {
      "chain_name":"A",
      "continuous_segments":3,
      "segments":[{"length":63,"range":[2,64],"residue_sequence":"SKGEELFTGVVPILVELDGDVNGHKFSVSGEGEGDATYGKLTLKFICTTGKLPVPWPTLVTTF","secondary_structure":"--HHHHH---SSSSSSSSSSS--SSSSSSSSSSSS----SSSSSSSS--------HHHH----"},{"length":1,"range":[66,66],"residue_sequence":"X","secondary_structure":"-"},{"length":162,"range":[68,229],"residue_sequence":"VQCFSRYPDHXKRHDFFKSAXPEGYVQERTIFFKDDGNYKTRAEVKFEGDTLVNRIELKGIDFKEDGNILGHKLEYNYNSHNVYIXADKQKNGIKVNFKIRHNIEDGSVQLADHYQQNTPIGDGPVLLPDNHYLSTQSALSKDPNEKRDHXVLLEFVTAAGI","secondary_structure":"-----S------------------SSSSSSSSS----SSSSSSSSSSS--SSSSSSSSSSS------------S------SSSSSSSS----SSSSSSSSSSSS----SSSSSSSSSSSS-----------SSSSSSSSSS--------SSSSSSSSSSS--"}]}]}

> print-atoms {--tags het --adjuncts tf:0:10}
{
  "atoms":[
    {
      "descriptor":{"chainID":"A","resSeq":66,"serial":467,"resName":"CRO","name":"CA1"},
      "ball":{"center":[25.011,26.478,37.078],"radius":1.7},
      "tags":["el=C","het"],
      "adjuncts":{"oc":1,"tf":7.34}},
    {
      "descriptor":{"chainID":"A","resSeq":66,"serial":472,"resName":"CRO","name":"N2"},
      "ball":{"center":[26.975,27.732,38.216],"radius":1.55},
      "tags":["el=N","het"],
      "adjuncts":{"oc":1,"tf":9.21}},
    {
      "descriptor":{"chainID":"A","resSeq":66,"serial":474,"resName":"CRO","name":"C2"},
      "ball":{"center":[26.043,27.875,40.37],"radius":1.7},
      "tags":["el=C","het"],
      "adjuncts":{"oc":1,"tf":5.46}},
    {
      "descriptor":{"chainID":"A","resSeq":66,"serial":481,"resName":"CRO","name":"CG2"},
      "ball":{"center":[29.437,29.37,39.124],"radius":1.7},
      "tags":["el=C","het"],
      "adjuncts":{"oc":1,"tf":7.67}},
    {
      "descriptor":{"chainID":"A","resSeq":66,"serial":486,"resName":"CRO","name":"CZ"},
      "ball":{"center":[31.718,30.3,37.721],"radius":1.7},
      "tags":["el=C","het"],
      "adjuncts":{"oc":1,"tf":9.48}}],
  "summary_of_atoms":{
    "number_total":5,
    "volume":null}}

> restrict-atoms {--tags-not het}
{
  "restricted_atoms":{
    "old_summary":{
      "number_total":1771,
      "volume":null},
    "summary":{
      "number_total":1717,
      "volume":null}}}

> print-sequence --secondary-structure
{
  "summary_of_atoms":{
    "number_total":1717,
    "volume":null},
  "chains":[
    {
      "chain_name":"A",
      "continuous_segments":6,
      "segments":[{"length":63,"range":[2,64],"residue_sequence":"SKGEELFTGVVPILVELDGDVNGHKFSVSGEGEGDATYGKLTLKFICTTGKLPVPWPTLVTTF","secondary_structure":"--HHHHH---SSSSSSSSSSS--SSSSSSSSSSSS----SSSSSSSS--------HHHH----"},{"length":10,"range":[68,77],"residue_sequence":"VQCFSRYPDH","secondary_structure":"-----S----"},{"length":9,"range":[79,87],"residue_sequence":"KRHDFFKSA","secondary_structure":"---------"},{"length":64,"range":[89,152],"residue_sequence":"PEGYVQERTIFFKDDGNYKTRAEVKFEGDTLVNRIELKGIDFKEDGNILGHKLEYNYNSHNVYI","secondary_structure":"---SSSSSSSSS----SSSSSSSSSSS--SSSSSSSSSSS------------S------SSSSS"},{"length":64,"range":[154,217],"residue_sequence":"ADKQKNGIKVNFKIRHNIEDGSVQLADHYQQNTPIGDGPVLLPDNHYLSTQSALSKDPNEKRDH","secondary_structure":"-S----SSSSSSSSSSSS----SSSSSSSSSSSS-----------SSSSSSSS-----------"},{"length":11,"range":[219,229],"residue_sequence":"VLLEFVTAAGI","secondary_structure":"-SSSSSSSS--"}]}]}

> construct-contacts
{
  "constructed_contacts":{
    "summary":{
      "number_total":12469,
      "number_drawable":0,
      "area":47017.2},
    "used_cached_triangulation":false}}

> construct-contacts --calculate-volumes --render-use '{--atom1 {r<83>} -min-seq-sep 1}'
{
  "constructed_contacts":{
    "summary":{
      "number_total":12469,
      "number_drawable":120,
      "area":47017.2},
    "used_cached_triangulation":true}}

> save-atoms --file './jobs_output/self_scripting/plain_atoms'
{
  "saved_atoms":{
    "file":"./jobs_output/self_scripting/plain_atoms",
    "summary":{
      "number_total":1717,
      "volume":41027.8}}}

> save-atoms --file './jobs_output/self_scripting/pdb_atoms' --as-pdb --pdb-b-factor volume
{
  "saved_atoms":{
    "file":"./jobs_output/self_scripting/pdb_atoms",
    "summary":{
      "number_total":1717,
      "volume":41027.8}}}

> save-contacts './jobs_output/self_scripting/plain_contacts'
{
  "saved_contacts":{
    "file":"./jobs_output/self_scripting/plain_contacts",
    "summary":{
      "number_total":12469,
      "number_drawable":120,
      "area":47017.2}}}

> list-objects
{
  "objects":[
    {
      "name":"structure.cif",
      "picked":false,
      "visible":true},
    {
      "name":"structure.pdb",
      "picked":false,
      "visible":true},
    {
      "name":"structure.pdb_2",
      "picked":true,
      "visible":true}]}

> delete-objects
{
  "removed_objects":["structure.cif","structure.pdb","structure.pdb_2"]}

> load --file './jobs_output/self_scripting/plain_atoms' --format plain
{
  "summary_of_atoms":{
    "number_total":1717,
    "volume":41027.8}}

> list-objects
{
  "objects":[
    {
      "name":"plain_atoms",
      "picked":true,
      "visible":true}]}

> select-contacts
Error: No contacts available.


> load-contacts --file './jobs_output/self_scripting/plain_contacts'
{
  "read_contacts":{
    "file":"./jobs_output/self_scripting/plain_contacts",
    "summary":{
      "number_total":12469,
      "number_drawable":120,
      "area":47017.2}}}

> select-contacts {--atom1 {R<PHE>} -atom2 {R<PHE>} -min-area 5.0 --min-seq-sep 1} --name cs1
{
  "selected_contacts":{
    "summary":{
      "number_total":5,
      "number_drawable":1,
      "area":33.8164},
    "selection_name":"cs1"}}

> set-alias multitag "tag-contacts {--min-area ${1}} med; delete-tags-of-contacts {--min-area ${2}} --tags med"
{
  "alias":"multitag",
  "script":"tag-contacts {--min-area ${1}} med; delete-tags-of-contacts {--min-area ${2}} --tags med"}

> tag-contacts {--min-area 6.0} med
{
  "summary_of_contacts":{
    "number_total":2636,
    "number_drawable":5,
    "area":29458.6}}

> delete-tags-of-contacts {--min-area 8.0} --tags med
{
  "summary_of_contacts":{
    "number_total":1675,
    "number_drawable":1,
    "area":22795.8}}

> print-contacts {cs1}
{
  "contacts":[
    {
      "descriptor1":{"chainID":"A","resSeq":8,"serial":49,"resName":"PHE","name":"CD1"},
      "descriptor2":{"chainID":"A","resSeq":71,"serial":518,"resName":"PHE","name":"CE1"},
      "area":5.56317,
      "tags":["central"]},
    {
      "descriptor1":{"chainID":"A","resSeq":8,"serial":53,"resName":"PHE","name":"CZ"},
      "descriptor2":{"chainID":"A","resSeq":114,"serial":888,"resName":"PHE","name":"CE2"},
      "area":6.42993,
      "tags":["central","med"]},
    {
      "descriptor1":{"chainID":"A","resSeq":46,"serial":330,"resName":"PHE","name":"CZ"},
      "descriptor2":{"chainID":"A","resSeq":64,"serial":459,"resName":"PHE","name":"CB"},
      "area":6.67924,
      "tags":["central","med"]},
    {
      "descriptor1":{"chainID":"A","resSeq":83,"serial":623,"resName":"PHE","name":"C"},
      "descriptor2":{"chainID":"A","resSeq":84,"serial":632,"resName":"PHE","name":"N"},
      "area":6.57156,
      "tags":["central","med"]},
    {
      "descriptor1":{"chainID":"A","resSeq":99,"serial":756,"resName":"PHE","name":"C"},
      "descriptor2":{"chainID":"A","resSeq":100,"serial":765,"resName":"PHE","name":"N"},
      "area":8.5725,
      "tags":["central"]}],
  "summary_of_contacts":{
    "number_total":5,
    "number_drawable":1,
    "area":33.8164}}

> print-contacts {cs1} --inter-residue
{
  "contacts":[
    {
      "descriptor1":{"chainID":"A","resSeq":8,"resName":"PHE"},
      "descriptor2":{"chainID":"A","resSeq":71,"resName":"PHE"},
      "area":5.56317,
      "summed":true,
      "tags":["central"]},
    {
      "descriptor1":{"chainID":"A","resSeq":8,"resName":"PHE"},
      "descriptor2":{"chainID":"A","resSeq":114,"resName":"PHE"},
      "area":6.42993,
      "summed":true,
      "tags":["central","med"]},
    {
      "descriptor1":{"chainID":"A","resSeq":46,"resName":"PHE"},
      "descriptor2":{"chainID":"A","resSeq":64,"resName":"PHE"},
      "area":6.67924,
      "summed":true,
      "tags":["central","med"]},
    {
      "descriptor1":{"chainID":"A","resSeq":83,"resName":"PHE"},
      "descriptor2":{"chainID":"A","resSeq":84,"resName":"PHE"},
      "area":6.57156,
      "summed":true,
      "tags":["central","med"]},
    {
      "descriptor1":{"chainID":"A","resSeq":99,"resName":"PHE"},
      "descriptor2":{"chainID":"A","resSeq":100,"resName":"PHE"},
      "area":8.5725,
      "summed":true,
      "tags":["central"]}],
  "summary_of_contacts":{
    "number_total":5,
    "number_drawable":1,
    "area":33.8164}}

> select-atoms {r<64> & A<C,N,O,CA,CB>} as1
{
  "selected_atoms":{
    "summary":{
      "number_total":5,
      "volume":108.978},
    "selection_name":"as1"}}

> tag-atoms {A<C,N,O,CA,CB>} --tag pept
{
  "summary_of_atoms":{
    "number_total":1083,
    "volume":20982.5}}

> delete-tags-of-atoms {A<CA,CB>} --tags pept
{
  "summary_of_atoms":{
    "number_total":420,
    "volume":9160.61}}

> print-atoms {as1}
{
  "atoms":[
    {
      "descriptor":{"chainID":"A","resSeq":64,"serial":455,"resName":"PHE","name":"N"},
      "ball":{"center":[22.25,29.62,36.583],"radius":1.55},
      "tags":["el=N","pept"],
      "adjuncts":{"oc":1,"tf":10.19,"volume":10.4155}},
    {
      "descriptor":{"chainID":"A","resSeq":64,"serial":456,"resName":"PHE","name":"CA"},
      "ball":{"center":[21.895,28.371,35.995],"radius":1.7},
      "tags":["el=C"],
      "adjuncts":{"oc":1,"tf":8,"volume":13.6959}},
    {
      "descriptor":{"chainID":"A","resSeq":64,"serial":457,"resName":"PHE","name":"C"},
      "ball":{"center":[22.774,27.253,36.518],"radius":1.7},
      "tags":["el=C","pept"],
      "adjuncts":{"oc":1,"tf":25.26,"volume":32.7555}},
    {
      "descriptor":{"chainID":"A","resSeq":64,"serial":458,"resName":"PHE","name":"O"},
      "ball":{"center":[22.313,26.147,36.761],"radius":1.52},
      "tags":["el=O","pept"],
      "adjuncts":{"oc":1,"tf":9.64,"volume":28.8387}},
    {
      "descriptor":{"chainID":"A","resSeq":64,"serial":459,"resName":"PHE","name":"CB"},
      "ball":{"center":[22.114,28.438,34.513],"radius":1.7},
      "tags":["el=C"],
      "adjuncts":{"oc":1,"tf":6.88,"volume":23.2725}}],
  "summary_of_atoms":{
    "number_total":5,
    "volume":108.978}}

> print-atoms {r<64> & A<C,N,O,CA,CB>}
{
  "atoms":[
    {
      "descriptor":{"chainID":"A","resSeq":64,"serial":455,"resName":"PHE","name":"N"},
      "ball":{"center":[22.25,29.62,36.583],"radius":1.55},
      "tags":["el=N","pept"],
      "adjuncts":{"oc":1,"tf":10.19,"volume":10.4155}},
    {
      "descriptor":{"chainID":"A","resSeq":64,"serial":456,"resName":"PHE","name":"CA"},
      "ball":{"center":[21.895,28.371,35.995],"radius":1.7},
      "tags":["el=C"],
      "adjuncts":{"oc":1,"tf":8,"volume":13.6959}},
    {
      "descriptor":{"chainID":"A","resSeq":64,"serial":457,"resName":"PHE","name":"C"},
      "ball":{"center":[22.774,27.253,36.518],"radius":1.7},
      "tags":["el=C","pept"],
      "adjuncts":{"oc":1,"tf":25.26,"volume":32.7555}},
    {
      "descriptor":{"chainID":"A","resSeq":64,"serial":458,"resName":"PHE","name":"O"},
      "ball":{"center":[22.313,26.147,36.761],"radius":1.52},
      "tags":["el=O","pept"],
      "adjuncts":{"oc":1,"tf":9.64,"volume":28.8387}},
    {
      "descriptor":{"chainID":"A","resSeq":64,"serial":459,"resName":"PHE","name":"CB"},
      "ball":{"center":[22.114,28.438,34.513],"radius":1.7},
      "tags":["el=C"],
      "adjuncts":{"oc":1,"tf":6.88,"volume":23.2725}}],
  "summary_of_atoms":{
    "number_total":5,
    "volume":108.978}}

> rename-selection-of-atoms nosel1 nodel2
Error: No atoms selection with name 'nosel1'.


> delete-selections-of-contacts nosel1
Error: Invalid contacts selection name 'nosel1'.


> list-selections-of-atoms
{
  "selections":[
    {
      "name":"_marked",
      "summary":{"number_total":5,"volume":108.978}},
    {
      "name":"as1",
      "summary":{"number_total":5,"volume":108.978}}]}

> list-selections-of-contacts
{
  "selections":[
    {
      "name":"_marked",
      "summary":{"number_total":1,"number_drawable":1,"area":6.57156}},
    {
      "name":"cs1",
      "summary":{"number_total":5,"number_drawable":1,"area":33.8164}}]}

> color-atoms 0xFFFF00
{
  "summary_of_atoms":{
    "number_total":1717,
    "volume":41027.8}}

> color-atoms {A<C,CA,N,O>} 0xFF0000
{
  "summary_of_atoms":{
    "number_total":884,
    "volume":15442.3}}

> color-atoms (not {A<C,CA,N,O>}) 0x00FF00
{
  "summary_of_atoms":{
    "number_total":833,
    "volume":25585.5}}

> show-atoms
{
  "summary_of_atoms":{
    "number_total":1717,
    "volume":41027.8}}

> write-atoms-as-pymol-cgo {r<70:90>} -file './jobs_output/self_scripting/cgo_atoms.py' -name atoms
{
  "wrote_atoms_as_pymol_cgo":{
    "file":"./jobs_output/self_scripting/cgo_atoms.py",
    "summary":{
      "number_total":167,
      "volume":3864.44}}}

> write-atoms-as-pymol-cgo {r<70:90>} -wireframe -file './jobs_output/self_scripting/cgo_atoms_wf.py' -name atoms_wf
{
  "wrote_atoms_as_pymol_cgo":{
    "file":"./jobs_output/self_scripting/cgo_atoms_wf.py",
    "summary":{
      "number_total":167,
      "volume":3864.44}}}

> spectrum-atoms
{
  "spectrum_summary":{
    "count":1717,
    "min_value":2,
    "max_value":229}}

> write-cartoon-as-pymol-cgo {r<45:60>&A<CA>} -file './jobs_output/self_scripting/cgo_cartoon.py' -name cartoon
{
  "wrote_cartoon_as_pymol_cgo":{
    "file":"./jobs_output/self_scripting/cgo_cartoon.py",
    "summary":{
      "number_total":16,
      "volume":262.219}}}

> write-cartoon-as-pymol-cgo {r<45:60>&A<CA>} -wireframe -file './jobs_output/self_scripting/cgo_cartoon_wf.py' -name cartoon_wf
{
  "wrote_cartoon_as_pymol_cgo":{
    "file":"./jobs_output/self_scripting/cgo_cartoon_wf.py",
    "summary":{
      "number_total":16,
      "volume":262.219}}}

> color-contacts 0x00FF00
{
  "summary_of_contacts":{
    "number_total":120,
    "number_drawable":120,
    "area":211.8}}

> color-contacts {--a1 {A<C,CA,N,O>} --a2 {A<C,CA,N,O>}} 0x00FFFF
{
  "summary_of_contacts":{
    "number_total":25,
    "number_drawable":25,
    "area":52.3005}}

> color-contacts {-a1 {-m! A<C,CA,N,O>} -a2! {A<C,CA,N,O>}} 0xFFFF00
{
  "summary_of_contacts":{
    "number_total":58,
    "number_drawable":58,
    "area":99.5972}}

> show-contacts
{
  "summary_of_contacts":{
    "number_total":120,
    "number_drawable":120,
    "area":211.8}}

> write-contacts-as-pymol-cgo --file './jobs_output/self_scripting/cgo_contacts.py' --name contacts
{
  "wrote_contacts_as_pymol_cgo":{
    "file":"./jobs_output/self_scripting/cgo_contacts.py",
    "summary":{
      "number_total":120,
      "number_drawable":120,
      "area":211.8}}}

> color-contacts 0xFF00FF
{
  "summary_of_contacts":{
    "number_total":120,
    "number_drawable":120,
    "area":211.8}}

> write-contacts-as-pymol-cgo --wireframe --file './jobs_output/self_scripting/cgo_contacts_wf.py' --name contacts_wf
{
  "wrote_contacts_as_pymol_cgo":{
    "file":"./jobs_output/self_scripting/cgo_contacts_wf.py",
    "summary":{
      "number_total":120,
      "number_drawable":120,
      "area":211.8}}}

> save-atoms-and-contacts './jobs_output/self_scripting/plain_atoms_and_contacts'
{
  "saved_atoms_and_contacts":{
    "file":"./jobs_output/self_scripting/plain_atoms_and_contacts",
    "summary_of_atoms":{
      "number_total":1717,
      "volume":41027.8},
    "summary_of_contacts":{
      "number_total":12469,
      "number_drawable":120,
      "area":47017.2}}}

> load './jobs_output/self_scripting/plain_atoms_and_contacts' -format plain
{
  "summary_of_atoms":{
    "number_total":1717,
    "volume":41027.8},
  "summary_of_contacts":{
    "number_total":12469,
    "number_drawable":120,
    "area":47017.2}}

> load './jobs_output/self_scripting/plain_atoms' -format plain
{
  "summary_of_atoms":{
    "number_total":1717,
    "volume":41027.8}}

> list-objects
{
  "objects":[
    {
      "name":"plain_atoms",
      "picked":false,
      "visible":true},
    {
      "name":"plain_atoms_and_contacts",
      "picked":false,
      "visible":true},
    {
      "name":"plain_atoms_2",
      "picked":true,
      "visible":true}]}

> delete-objects -names plain_atoms
{
  "removed_objects":["plain_atoms"]}

> list-objects
{
  "objects":[
    {
      "name":"plain_atoms_and_contacts",
      "picked":false,
      "visible":true},
    {
      "name":"plain_atoms_2",
      "picked":true,
      "visible":true}]}

> set-alias quit exit
{
  "alias":"quit",
  "script":"exit"}

> exit

